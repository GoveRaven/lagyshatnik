<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <title>Динамические стили элементов</title>
    <link rel="stylesheet" href="../../стили/Полигон.css" />
  </head>
  <body>
    <header>
      <img src="../../avatar/avatar1.jpg" width="90" height="90" alt="Лягушка" />
      <nav>
        <a href="../../Полигон.html">Назад</a>
        <a href="Динамические стили элементов/Новости 4.html">Сайт 1</a>
        <a href="Динамические стили элементов/Новости 5.html">Сайт 2</a>
      </nav>
    </header>
    <main>
      <h2>Динамические стили элементов</h2>
      <h3>Обработчик событий onscroll</h3>
      <p>
        На новостном портале теперь публикуют не только короткие новости, но и
        длинные статьи. Чтобы их было удобно читать, у пользователей должна быть
        возможность менять размер и цвет текста, а также цвет фона в этих
        статьсях.
      </p>
      <p>
        Работать мы будем со страницей отдельной статьи. В верхней части
        страницы находятся настройки: два выпадающих списка с цветами и
        ползунок. Выпадающие списки отвечают за цвет текста и фон статьи.
        Ползунок управляет размером текста. Когда пользователь выбирает новое
        значение из списка или сдвигает ползунок, оформление статьи должно
        меняться.
      </p>
      <p>
        Раньше, чтобы изменить внешний вид элемента, мы использовали классы. Но
        для этой задачи такой подход не годится. Цветов в списках и положений у
        ползунка слишком много - чтобы учесть все варианты, пришлось бы создать
        76 классов. Есть другое решение - изменять стили элемента напрямую.
      </p>
      <p>
        Упарвлять стилями элемента можно с помощью свойства <span>style</span>.
        После него через точку указывают то CSS-свойство, которое нужно
        изменить.
      </p>
      <code> элемент.style.свойствоCSS </code>
      <p>
        Чтобы изменить стиль элемента, указанному свойству нужно присвоить новое
        значение. Например:
      </p>
      <code>
        let element = document.querySelectoe('p'); <br />
        <br />
        // Зададим абзацу зелённый цвет текста <br />
        element.style.color = 'green'
      </code>
      <p>
        Стили заданные с помощью свойства <span>style</span>, работают так же,
        как если бы их указали в разметке в атрибуте <span>style</span> самого
        элемента. Они имеют больший приоритет, чем CSS-правила из файлов со
        стилями.
      </p>
      <p>
        Так когда использовать классы, а когда - свойство <span>style</span>?
        Используйте <span>style</span> только в тех случаях, когда с помощью
        классов задачу решать неудобно.
      </p>
      <p>
        На новостном сайте мы будем изменять стили отдельной статьи. Это элемент
        с классом <span>longread</span>. Найдём его и запишем в переменную.
        Чтобы проверить, как работает свойство <span>style</span>, изменим цвет
        текста в статье на фиолетовый.
      </p>
      <h3>Настраиваем цвет текста</h3>
      <p>
        Мы познакомились со свойством <span>style</span> и изменили цвет текста
        в статье. Нужно сделать так, чтобы цвет менялся на тот, что пользователь
        выбрал в выпадающем списке "Цвет текста".
      </p>
      <p>
        У списка "Цвет текста" несколько значений. Пользователь может выбрать
        одно из них, развернув список и кликнув на нужный цвет:
      </p>
      <p>
        Выбранное значение хранится в свойстве <span>value</span> выпадающего
        списка. Чтобы изменить цвет текста на тот, который выбрал пользователь,
        нужно записать выбранное значение в ссвойство <span>style</span> статьи.
      </p>
      <p>
        Цвет текста должен меняться, когда пользователь выбирает новое значение,
        поэтому используем обработчик событий <span>onchange</span>. Например:
      </p>
      <code>
        // Находим выпадающий список <br />
        let select = document.querySelector('select'); <br />
        <br />
        // Добавляем списку обработчик событий <br />
        select.onchange = function () { <br />
        // Меняем цвет текста на выбранное значение <br />
        longread.style.color = select.value; <br />
        }
      </code>
      <p>
        Список "Цвет текста" на новостном сайте имеет класс
        <span>text-color</span> Найдём его и сохраним в переменную. После этого
        добавим списку обработчик событий и изменим цвет текста в статье на
        выбранное значение
      </p>
      <h3>Получаем значение из поля с ползунком</h3>
      <p>
        Настройка цвета текста готова. Займёмся размером шрифта. Пользователь
        может изменять размер текста в статье, передвигая ползунок. Если
        сдвинуть ползунок влево, текст должен стать меньше, а если вправо -
        больше. Выбранный размер должен выводиться на страницу рядом с полем.
      </p>
      <p>Поле с ползунком имеет класс <span>size-setting</span>.</p>
      <p>
        Ползунок позволяет выбрать число из указанного диапазона. В нашем случае
        это целое число от 8 до 48. Значение по умолчанию - 14, потому что
        размер шрифта в статье сейчас 14px.
      </p>
      <p>
        Значение, которое выбрал пользователь, получают в JavaScript с помощью
        свойства <span>value</span>. Это значение нам нужно вывести на страницу
        рядом с полем. Мы подготовили для этого элемент с классом
        <span>pixels</span>.
      </p>
      <p>
        Чтобы показать выбранное число, запишем его в текстовое содержимое
        элемента с классом <span>pixels</span>.
      </p>
      <p>
        Нам нужно получать, когда пользователь передвигает ползунок. Используем
        обработчик событий <span>onchange</span>. Например:
      </p>
      <code>
        // Находим поле и элемент для вывода значений let range =
        document.querySelector('input'); <br />
        let span = document.querySelector('span'); <br />
        <br />
        // Добавляемполю обработчик событий <br />
        range.onchange = function () { <br />
        // Выводим значение на страницу <br />
        span.textContent = range.value; <br />
        }
      </code>
      <p>
        Найдём нужные элементы и выведем на страницу выбранный размер текста.
      </p>
      <h3>Настраиваем размер текста</h3>
      <p>
        Мы научились получать значение из поля с ползунком и вывели его на
        страницу. Но размер шрифта в статье пока не меняется. Чтобы это
        исправить, возьмём полученное значение и запишем его в стили статьи. Для
        этого снова используем свойство <span>style</span>.
      </p>
      <p>
        В CSS за размер шрифта отвечает свойство <span>font-size</span>. В
        JavaScript нельзя использовать дефисы в названиях свойств, вместо этого
        для разделения слов используется "верблюжий" стиль.
      </p>
      <p>
        Получается, чтобы изменить размер шрифта, нам нужно присвоить новое
        значение свойству <span>fontSize</span>:
      </p>
      <code>
        let element= document.querySelector('p'); <br />
        <br />
        // Зададим абзацу размер шрифта 24px <br />
        element.style.fontSize = '24px'
      </code>
      <p>
        Из ползунка мы получаем число. Но чтобы задать размер шрифта, также
        нужно указать единицы измерения. В нашем случае это будут пиксели.
        Используем конкатенацию, чтобы плучить правильное значение:
      </p>
      <code> longread.style.fontSize = sizeSetting.value + 'px'; </code>
      <p>
        Представим, что пользователь выбрал с помощью ползунка число 16. Тогда в
        стили элемента запшется результат конкатенации - <span>'16px'</span>:
      </p>
      <p>
        Зададим тексту в статье тот размер, который выбрал пользователь, и
        убедимся, что настройка работает.
      </p>
      <h3>Сравниваем onchange и oninput</h3>
      <p>
        Мы научились изменять размер текста в статье, когда пользователь
        передвигает ползунок. Но пользоваться нашей настройкой неудобно, потому
        что текст изменяется слишком резко. Это происходит потому, что
        обработчик событий <span>onchange</span> срабатывает только тогда, когда
        пользователь отпускает ползунок. В итоге текст меняется один раз,
        скачком.
      </p>
      <p>
        Чтобы текст изменился более плавно, нужно менять размер шрифта много
        раз, но по чуть-чуть. Для этого надо получать новое значение при каждом
        изменении положении ползунка. С этим нам помоет обработчик событий
        <span>oninput</span>.
      </p>
      <p>Разберём, в ём разница между двумя обработчиками:</p>
      <ul>
        <li>
          <span>onchange</span> срабатывает, если значение поля ввода изменилось
          и пользователь закончил ввод. Например, если пользователь передвинул
          ползунок и опустил его. Или ввёл что-то в текстовое поле и убрал из
          него курсор.
        </li>
        <li>
          <span>oninput</span> срабатывает на каждое изменение значения,
          независимо от того, завершил пользователь ввод или нет. Например, он
          сработает на каждое изменение положения ползунка, даже если
          пользователь продолжает его двигать. И на каждый новый символ в
          текстовом поле, даже если пользователь продолжает вводить текст.
        </li>
      </ul>
      <p>
        Сделаем настройку размера текста удобнее. Для этого заменим обработчик
        <span>onchange</span> на <span>oninput</span>. После этого убедимся, что
        текст в статье изменяется без скачков.
      </p>
      <h3>Настраиваем цвет фона</h3>
      <p>
        Мы научились изменять цвет и размер текста в зависимости от значений,
        которые выбрал пользователь. Нам осталось запрограммировать настройку
        цвета фона статьи. Она очень похожа на настройку цвета текста, только
        значения мы будем получать из выпадающего списка с классом
        <span>background-setting</span>.
      </p>
      <p>
        За цвет фона в CSS отвечат свойство <span>background-color</span>. Чтобы
        изменить его в JavaScript, имя свойсвта нужно написать в "верблюжьем"
        стиле.
      </p>
      <h3>Свойство type</h3>
      <p>Теперь нужно доработать страницу регистрации на новостном сайте. На странице есть поля для ввода логина и пароля, а также кнопка "Зарегистрироваться". Нужно сделать так, чтобы пользователи могли по желанию увидеть пароль, который вводят. Также нужно запрограммировать шкалу сложности пароля, которая будет напоминать пользователям, что лучше придумать пароль подлинее.</p>
      <p>Начнём с показа пароля. Для ввода используем специальное поле с типом <span>password</span>.</p>
      <p>Особенность этого поля в том, что введённый текст в нём маскируется. Обычно бразеры используют для этого звёздочки или кружоччки.</p>
      <p>Пароль маскируют, чтобы нико не мог его подсмотреть. Но набирать его при этом становится сложнее - можно ошибиться и не заметить. Если пользователь уверен, что за ним не подглядывают, и хочет убедиться, что не опечатался, то нужно дать ему возможность увидеть пароль.</p>
      <p>Чтобы показать пароль, воле ввода пароля превращают в текстовое поле ввода. Для этого его тип изменяют на <span>text</span>. За тип в JavaScript отвечает свойство <span>type</span>. Чтобы изменить тип поля ввода, нужно записать в свойство <span>type</span> новое значение:</p>
      <code>
        let input= document.querySelector('input'); <br>
        <br>
        // Сделаем input текстовым полем ввода <br>
        input.type = 'text';         
      </code>
      <p>Поле для ввода пароля имеет класс <span>password</span>.Найдём его, запишем в переменную и сделаем обычным текстовым полем</p>
      <h3>Используем чекбокс, чтобы показать пароль</h3>
      <p>Мы научились изменять тип поля ввода. Чтобы выполнить задачу, нам нуно менять тип поля с паролем, когда пользователь ставит галочку в чекбоксе "Показать пароль".</p>
      <p>Чекбокс - это поле ввода, у которого может быть одно из двух состояний: включён или выключен. Обычно в браузерах на состояние чекбокса указывает галочка: если галочка стоит - чекбокс включён, а если нет - выключен. Когда галочку ставят или убирают, состояние чекбокса меняется. Чтобы отследить событие из скрипта, используем обработчик события <span>onchange</span>.</p>
      <p>Чекбокс "Показать пароль" имеет класс <span>show-password</span>. Найдём его, запишем в переменную и добавим ему обработчик. Затем переместим инструкцию, изменяющую тип поля, внутрь обработчика. После этого убедимся, что если включить чекбокс, пароль становится виден</p>
      <h3>Свойство checked</h3>
      <p>Отлично! Мы сказали JavaScript показывать пароль, если пользователь включил чекбокс. Если чекбокс выключили, пароль должен прятаться. Но сейчас этого не происходит: достаточно поставить галочку один раз, и пароль будет виден всегда. Как это исправить?</p>
      <p>Добавим в обработчик событий условную конструкцию и будем проверять, включён ли чекбокс. Если включён, поле с паролем нужно сделать текстовым. А если выключен, то полю нужно вернуть тип <span>password</span>. Чтобы проверить состояние чекбокса, используем свойство <span>checked</span>.</p>
      <p>Это свойство меет булево значение: <span>true</span>, если чекбокс включён, и false, если нет.</p>
      <code>
        // Проверяем, включён ли чекбокс <br>
        if (showPassword.checked) { <br>
            // Показываем пароль <br> 
        } else { <br>
            // Прячем пароль <br>
        }
      </code>
      <p>Добавим условную конструкцию в обработчик событий и убедимся, что пароль показывается, еси поставит галочку, и прячется, если её убрать.</p>
      <h3>Изменяем ширину полоски</h3>
      <p>Мы запрограммировали функцию "показать пароль". Теперь нам нужно сделать шкалу, которая покажет, насколько надёёжен придуманный пользователем пароль. Шкала - это тонкая полоска в нижней части поля "Пароль", которая должна расти с каждым введённым символом. Если пароль слишком короткий, полоска должна быть красной, если пароль средней длины - жёлтой, а если пароль достаточно длинный - зелёной.</p>
      <p>Полоска должна увеличиваться с каждым введённым символом. Создавать отдельный класс для каждой длины пароля было бы неудобно, поэтому мы будем изменять стиль элемента с помощью свойства <span>style</span>. Какое CSS-свойство нужно изменить, чтобы сделать полоску длинее? Так как она располагается горизонтально, то менять надо свойство <span>width</span>, отвечающее за ширину элемента.</p>
      <p>Изначально полоска имеет ширину 0% и не видна.</p>
      <p>Если ширина элемента задана в процентах, она рассчитывается <i>относительно</i> ширины родительского элемента. Если ширина родителя 200px, то вложенный элемент с шириной 50% будет иметь <i>абсолютную</i> ширину 100px.</p>
      <p>Полоска имеет класс <span>password-line</span>. Найдём её, запишем в переменную и зададим ей ширину 50%.</p>
      <h3>Привязываем ширину плоски к длине пароля</h3>
      <p>Мы нашли полоску, показывающую надёжность пароля, и задали ей фиксированную ширину. Но нам нужно, чтобы ширина полоски менялась вместе с длиной введённого пароля.</p>
      <p>Длина введённого значения хранится в его свойстве <span>length</span>.</p>
      <code>
        let input= document.querySelector('input'); <br>
        <br>
        console.log(input.value); // Выведет: Кекс <br>
        console.log(input.length); // Выведет: 4
      </code>
      <p>С каждым введённым символом полоска должна увеличиваться на 10% от ширины родителя.</p>
      <p>Выходит, чтобы получить ширину полоски, нам нужно умножить длину пароля на число 10. Умножение в JavaScript обозначается звёздочкой:</p>
      <code>console.log(3 * 10) // Выведет: 30</code>
      <p>ИИспользуем умножение, чтобы задать полоске ширину. И не забудем добавить с помощью конкатенации единицы измерения - проценты:</p>
      <code>
        passwordLine.style.width = password.value * 10 + '%';
      </code>
      <p>Представим, что пользователь ввёл пароль длиной 4 символа:</p>
      <code>
        passwordLine.style.width = 4 * 10 + '%'; // Результат: '40%'
      </code>
      <p>Чтобы ширина полоски меняласьодновременно с длиной пароля, мы должны получать длину при каждом изменении поля ввода. Используем для этого обработчик событий <span>oninput</span>. Добавим его полю ввода пароля и свяжем ширину полоски и длину введённого значения. После этого убедимся что полоска растёт вместе с длиной пароля.</p>
      <p>Что случится, если ширина полоски окажется больше 100%? Всё зависит от того, какое значение указано в CSS свойстве <span>overflow</span> родтельского элемента. Мы используем значение <span>hidden</span>, поэтому "лишняя" часть полоски просто не отображается.</p>
      <h3>Ссохраняем длину пароля в переменной</h3>
      <p>Мы заставили полоску расти вместе с длиной пароля. Теперь нам нужно задать ей правильный цвет. Если пароль короткий, полоска должна быть красной, если средней - жёлтой, а если пароль длинный - зелёной. Для этого нам понадобится условная кнструкция, в которой мы будем сравнивать длину пароля <span>password.value.length</span> с разными числами. Запись в итоге может получиться очень длиной.</p>
      <p>Позаботимся о своём удобстве заранее - запишем длину пароля в отдельную переменную и будем использовать именно её.</p>
      <code>let passLength = password.value.length;</code>
      <p>Длина пароля меняется с каждым введённым символом. Чтобы в переменной <span>passLength</span> всегда было актуальное значение, присваивать его надо внутри обработчика событий <span>oninput</span>.</p>
      <p>Объявим переменную <span>passLength</span> и используем её в инструкциях, где нам нужна длина пароля.</p>
      <h3>Операторы сравнения</h3>
      <p>Мы создали переменную, в которую записали длину пароля. Используем её, чтобы задать полоске правильный цвет. Если пароль <b>меньше или равен</b> 5 символам, то полоска должна быть красной.</p>
      <p>Мы уже работали с операторами сравнения "больше". В JavaScript есть и другие операторы сравнения:</p>
      <code>
        1 &lt; 2; // Оператор "меньше" <br>
        1 &lt;= 2; // Оператор "меньше или равно" <br>
        1 &gt;= 2; // Оператор "больше или равно"
      </code>
      <p>Обратите внимание, операторы "меньше или равно" и "больше или равно" обозначаются двумя символами: угловой скобкой и знаком равно. Эти операторы работают так же, как в математике. Например, оператор "меньше или равно"вернёт <span>true</span>, если число слева меньше чила справа или если числа равны.</p>
      <p>Если длина пароля меньше ли равна 5 символам, полоска под полем ввод должна стать красной. Добавим внутрь обработчика <span>oninput</span> условную конструкцию и, если условие истино, зададим полоске красный цвет фона:</p>
      <code>
        if (passLength &lt;= 5) { <br>
            passwordLine.style.background = 'red'; <br>
        }
      </code>
      <h3>Конструкция else if</h3>
      <p>Мы сказали JavaScript покрасить полоску в красный цвет, если пароль слишком короткий. Если пароль средней длины, полоска должна стать жёлтой.</p>
      <p>Что значит "средней длины"? Это значит пароль должен быть больше 5 символов <b>И</b> при этом меньше 10. Чтобы создать двойное условие, используем оператор логическое И:</p>
      <code>passLength &gt; 5 && passLength &lt; 10</code>
      <p>Но где нам указать это условие? Используем конструкцию <span>else if</span>. Она позволяет добавить в условную конструкцию альтенативную ветку с условием:</p>
      <code>
        if (passLength &lt;= 5) { <br>
            // Инструкция выполняется, если истинно первое условие <br>
        } else if (passLength &gt; 5 && passLength &lt; 10) { <br>
            // Инструкции выполнятся, если истинно второе условие <br>
        }
      </code>
      <p>После <span>else if</span> в круглых скобках указывают условие, а в фигурных - инструкции, которые должны выполняться, если это условие вернёт <span>true</span>.</p>
      <p>Представим, чтоп ользователь ввёл пароль длиной 6 символов. Сначала JavaScript проверить первое условие: длина меньше или равна 5 символам? Нет. Значит, идём дальше. Следующее условие: длина пароля больше 5 символов, но меньше 10? Да. Значит, выполняем инструкции из второй ветки.</p>
      <p>Веток <span>else if</span> в условной конструкции может быть сколько угодно.. Но чем их больше, тем запутанее получается код.</p>
      <p>Добавим в нашу условную конструкцию ветку <span>else if</span> и скажем JavaScript покрасить полоску в жёлтый цвет, если пароль длинее 4 символов, но короче 10.</p>
      <h3>Завершаем работу над страницей регистрации</h3>
      <p>Мы добавили в услонвую конструкцию алтернативную ветку <span>else if</span>, и теперь полоска меняет цвет с красного на жёлтый, если пароль длинее 5 символом. Но если пароль длиной 10 символов или больше, полоска должна стать зелёной. Мы могли бы добавить ещё одну ветку <span>else if</span>, но в данном случае хватит и просто <span>else</span>.</p>
      <p>Представим, что пароль длиной 11 символов. В этом случае оба условие вернут <span>false</span>, и JavaScript выполнит инстркуции из ветки <span>else</span>.</p>
      <code>
        if (passLength &lt;= 5) { <br>
            // Инструкция выполняется, если истинно первое условие <br>
        } else if (passLength &gt; 5 && passLength &lt; 10) { <br>
            // Инструкции выполнятся, если истинно второе условие <br>
        } else { <br>
            // Инструкции выполнятся, если оба условия ложны <br>
        }
      </code>
      <p>Добавим третью ветку в нашу условную конструкцию и убедимся, что цвет полоски меняется с красногона жёлтый, а после - с жёлтого на зелёный.</p>
    </main>
    <footer>
      <h3>Здесь могла быть ваша кувшинка</h3>
    </footer>
  </body>
</html>
